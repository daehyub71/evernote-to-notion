# Evernote to Notion Migration - 빠른 체크리스트

**프로젝트 진행 상황 추적용 간단한 체크리스트**

---

## Phase 1: 환경 설정 및 ENEX 파싱 (1-2일)

### 프로젝트 초기화
- [ ] 디렉토리 구조 생성
- [ ] Git 저장소 초기화
- [ ] requirements.txt 작성
- [ ] .env.example 작성
- [ ] 가상환경 생성 및 의존성 설치

### ENEX 파서 개발
- [ ] EnexParser 클래스 구현
- [ ] EvernoteNote 데이터클래스 정의
- [ ] Resource 데이터클래스 정의
- [ ] 스트리밍 파싱 구현
- [ ] MD5 해시 계산 로직
- [ ] 날짜/시간 파싱

### 테스트
- [ ] 맛집.enex 파싱 성공 (0 리소스)
- [ ] 냅킨경제학.enex 파싱 성공 (2 리소스)
- [ ] 전체 23개 파일 파싱 성공
- [ ] 1,373 노트 확인
- [ ] 1,574 리소스 확인
- [ ] 블로그_예전모음.enex (160MB) 파싱 성공

---

## Phase 2: ENML → Notion 블록 변환 (2-3일)

### ENML 분석
- [ ] ENML 태그 목록 추출
- [ ] 20가지 패턴 샘플 수집
- [ ] HTML 엔티티 케이스 수집

### 변환기 개발
- [ ] EnmlConverter 클래스 구현
- [ ] _convert_heading 구현
- [ ] _convert_paragraph 구현
- [ ] _convert_list 구현
- [ ] _convert_todo 구현
- [ ] _convert_media 구현
- [ ] Rich Text 변환 (굵게, 기울임, 링크)
- [ ] HTML 엔티티 디코딩

### 블록 빌더
- [ ] BlockBuilder 클래스 구현
- [ ] paragraph 블록 생성
- [ ] heading_1/2/3 블록 생성
- [ ] image 블록 생성
- [ ] to_do 블록 생성
- [ ] 2000자 제한 처리

### 테스트
- [ ] 단위 테스트 작성
- [ ] 샘플 노트 20개 변환 성공
- [ ] pytest 통과율 100%

---

## Phase 3: Notion API 연동 (2일)

### Notion 설정
- [ ] Notion Integration 생성
- [ ] Integration Token 발급
- [ ] 대상 페이지에 권한 부여
- [ ] 페이지 ID 확인
- [ ] .env 파일 설정

### API 클라이언트
- [ ] NotionClient 클래스 구현
- [ ] create_page 메서드
- [ ] append_blocks 메서드
- [ ] Rate Limiter 구현 (초당 3회)
- [ ] 에러 핸들링 (429 재시도)

### 페이지 생성기
- [ ] PageCreator 클래스 구현
- [ ] create_from_note 메서드
- [ ] 메타데이터 보존 (태그, 날짜)

### 테스트
- [ ] 테스트 페이지 생성 성공
- [ ] 블록 추가 성공
- [ ] 맛집.enex → Notion 변환 성공
- [ ] Rate Limiter 작동 확인

---

## Phase 4: 리소스 처리 (3-4일) ⚠️ 최대 난제

### 리소스 추출
- [ ] ResourceExtractor 클래스 구현
- [ ] MIME 타입별 핸들러 구현
- [ ] ImageHandler (이미지 최적화, WebP 변환)
- [ ] DocumentHandler (PDF 검증)
- [ ] 1,574개 리소스 로컬 저장 성공

### 업로드 전략 결정 ⚠️ 핵심
- [ ] AWS S3 vs Cloudinary vs Imgur 검토
- [ ] **최종 전략 선택**: ___________
- [ ] S3Uploader 또는 CloudinaryUploader 구현
- [ ] S3 버킷 생성 (선택 시)
- [ ] Public 접근 설정
- [ ] 테스트 파일 10개 업로드 성공

### 대량 업로드
- [ ] BatchUploader 클래스 구현
- [ ] 멀티스레드 업로드 (10개 동시)
- [ ] UploadCache 구현 (중복 방지)
- [ ] 진행률 표시 (tqdm)
- [ ] 재시도 로직 (3회)
- [ ] 100개 리소스 병렬 업로드 성공

### 블로그_예전모음.enex 처리 ⚠️
- [ ] 1,192개 리소스 추출
- [ ] 배치 업로드 (100개씩)
- [ ] 1,192개 중 95% (1,132개) 업로드 성공
- [ ] 실패 리소스 로그 저장

---

## Phase 5: 전체 마이그레이션 파이프라인 (2-3일)

### 메인 스크립트
- [ ] main.py 작성
- [ ] CLI 옵션 구현 (--file, --resume, --dry-run)
- [ ] process_file 함수 구현
- [ ] UploaderFactory 구현

### 체크포인트 시스템
- [ ] CheckpointManager 클래스 구현
- [ ] migration_state.json 저장/로드
- [ ] mark_file_completed 구현
- [ ] mark_note_completed 구현
- [ ] 중단/재개 테스트 성공

### 로깅 시스템
- [ ] setup_logger 함수 구현
- [ ] 파일 로깅 설정
- [ ] 콘솔 로깅 설정
- [ ] 로그 레벨 정의 (INFO, WARNING, ERROR)

### End-to-End 테스트
- [ ] **Tier 1**: 맛집.enex 성공
- [ ] **Tier 2**: 냅킨경제학.enex, 돌봄학개론.enex 성공
- [ ] **Tier 3**: IT트렌드.enex 성공 (9가지 포맷)
- [ ] **Tier 4**: 블랙야크.enex 성공 (103 노트)
- [ ] **Tier 5**: 블로그_예전모음.enex 성공 (1,192 리소스)
- [ ] 중단/재개 작동 확인

### 전체 마이그레이션 실행 ⚠️ 8-10시간
- [ ] 디스크 공간 확인 (5GB)
- [ ] 네트워크 안정성 확인
- [ ] API 키 유효성 확인
- [ ] 야간 실행 시작
- [ ] 진행률 모니터링
- [ ] **1,373개 노트 중 95% (1,304개) 성공**
- [ ] **1,574개 리소스 중 90% (1,416개) 성공**
- [ ] Notion 웹에서 샘플 확인

---

## Phase 6: 최적화 및 문서화 (1-2일)

### 성능 최적화
- [ ] 병렬 처리 개선
- [ ] 메모리 최적화 (스트리밍 파싱)
- [ ] 이미지 최적화 (자동 리사이즈)
- [ ] 블로그_예전모음 처리 시간 50% 단축

### CLI 개선
- [ ] --tier 옵션 구현
- [ ] --stats 옵션 구현
- [ ] --validate 옵션 구현
- [ ] 모든 CLI 옵션 테스트

### 문서화
- [ ] README.md 업데이트
- [ ] USAGE.md 작성
- [ ] 모든 클래스에 docstring 추가
- [ ] 모든 메서드에 타입 힌트 추가
- [ ] docstring 커버리지 100%

### 최종 릴리스
- [ ] 단위 테스트 작성
- [ ] pytest 커버리지 80% 이상
- [ ] Git 커밋
- [ ] Git 태그 v1.0.0 생성
- [ ] GitHub 푸시

---

## 프로젝트 완료 ✅

### 최종 검증
- [ ] 총 노트: 1,373개 중 ___개 성공 (목표: 95%)
- [ ] 총 리소스: 1,574개 중 ___개 성공 (목표: 90%)
- [ ] 실패 노트 목록 확인
- [ ] Notion 웹에서 무작위 20개 노트 검증
- [ ] 이미지 정상 표시 확인
- [ ] 태그/날짜 메타데이터 확인

### 데이터 손실 0% 확인
- [ ] 모든 텍스트 내용 보존 확인
- [ ] Rich Text 포맷 유지 확인
- [ ] 링크 정상 작동 확인
- [ ] 체크박스 상태 보존 확인

### 클린업
- [ ] 임시 파일 삭제 (data/temp/)
- [ ] 로그 파일 백업
- [ ] 체크포인트 파일 백업
- [ ] .env 파일 보안 확인

---

## 프로젝트 통계

**개발 시작**: ___________
**개발 완료**: ___________
**실제 소요 기간**: ___일
**전체 실행 시간**: ___시간

**최종 결과**:
- 노트 성공률: ___%
- 리소스 성공률: ___%
- 데이터 손실: ___%

---

**버전**: 1.0
**최종 업데이트**: 2025-10-25
